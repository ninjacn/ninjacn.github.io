---
layout: post
status: publish
published: true
title: ROS安装过程省略我用的是电信ADSL单线接入
author:
  display_name: Ninjacn
  login: admin
  email: x@ninjacn.com
  url: ''
author_login: admin
author_email: x@ninjacn.com
excerpt: |-
  &nbsp;别看广告，看疗效。开工啦。（以我的设置过程为例子）
  &nbsp;一：正常开机后接下来需要登录，用户名：admin ,密码为空，成功登录后提示符是这样子：
  [admin@MikroTik]>
  &nbsp;后面可以输入一些命令，知道命令的话可以输入？察看当前可以使用的命令。
  此时需要做的是输入：
  [admin@MikroTik]> int （回车注意：括号内是注释，下同）
  [admin@MikroTik] interface>pri (回车用于查看网卡编号，名字，还有激活状态。默认的没有激活，激活后为R）
  [admin@MikroTik] interface>enable 1 (表示激活编号为1的网卡 enable 2同理）
  [admin@MikroTik] interface>pri （回车激活后的网卡 状态为R）
  为了方便我们给网卡改名字
  [admin@MikroTik] interface>set 1 name=LAN （内网）
  [admin@MikroTik] interface>set 2 name=WAN （外网）
  设置网卡IP
wordpress_id: 6
wordpress_url: http://ninjacn.com/?p=6
date: '2008-10-10 13:38:03 +0800'
date_gmt: '2008-10-10 05:38:03 +0800'
categories:
- Network
tags:
- ADSL
- ROS
comments: []
---
<p>&nbsp;别看广告，看疗效。开工啦。（以我的设置过程为例子）<br />
&nbsp;一：正常开机后接下来需要登录，用户名：admin ,密码为空，成功登录后提示符是这样子：<br />
[admin@MikroTik]><br />
&nbsp;后面可以输入一些命令，知道命令的话可以输入？察看当前可以使用的命令。<br />
此时需要做的是输入：<br />
[admin@MikroTik]> int （回车注意：括号内是注释，下同）<br />
[admin@MikroTik] interface>pri (回车用于查看网卡编号，名字，还有激活状态。默认的没有激活，激活后为R）<br />
[admin@MikroTik] interface>enable 1 (表示激活编号为1的网卡 enable 2同理）<br />
[admin@MikroTik] interface>pri （回车激活后的网卡 状态为R）<br />
为了方便我们给网卡改名字<br />
[admin@MikroTik] interface>set 1 name=LAN （内网）<br />
[admin@MikroTik] interface>set 2 name=WAN （外网）<br />
设置网卡IP<a id="more"></a><a id="more-6"></a><br />
[admin@MikroTik] interface>&#47; （退到[admin@MikroTik]>）<br />
[admin@MikroTik]>&#47;ip add&nbsp;&nbsp; （回车）<br />
[admin@MikroTik] ip address>add address 192.168.10.1&#47;24 interface LAN （设置内网网卡IP）<br />
到这里ROS环境下的设置完成 接下来可以用winbox设置了（你要用ROS环境我也没办法:)）<br />
二：在一台装了win系统的计算机上安装好网卡。把网卡的IP地址设置为：ip地址：192.168.10.10（和ROS一个网段就可以了），子网掩码：255.255.255.0，网关：192.168.10.1，DNS：192.168.10.1<br />
然后把路由的内网网卡和win系统的网卡连通。然后在win系统的IE里输入192.168.10.1 系统打开一个网页。按照提<br />
示。选那个downl&hellip;.下载winbox。保存到硬盘里。运行winbox。Connect T输入192.168.10.1、Login:输入<br />
admin、password:空白，点击Connect，登录后打开一个新的窗口，这就是winbox的管理界面。<br />
进入WinBOX后，点击InterFaces，选择跟ADSL链的网卡的接口，我一般把外网接口改为WAN，内网当然是LAN了（只要为了方便清楚，可以不改）。<br />
选择WAN，点红色+号键，选择PPPOE CLIENT，在Service中输入注释，user输入ADSL用户名，Password就是密码了。并对选项框打勾(保存ADSL密码)&ndash;>APPLY.如果需要设置按需拔号，就勾上 Dial On Demand就可以了。<br />
设置完成，明白了吗？<br />
&nbsp;设置NAT共享上网： ip －－》firewall －source nat ，选择＋ 号，选择action，action里面选择 masquerade ，其余选择默认即可<br />
至此，共享上网就完成了.<br />
接下来，需要增加设置防火墙规则，否则，安全没有保障<br />
ip －》firewall －》filter fules ，选择＋ 号，in interface 选择内网网卡（LAN），其他默认<br />
这条路由允许来自内网的连接，如果有限制，可以修改 src address 的ip段，或者content 内容过滤<br />
ip －》firewall －》filter chains 选中 input ，选择 drop<br />
这条规则禁止所有的外部连接<br />
以上两条规则，屏蔽来自外网的所有连接，还要注意，顺序不要弄错，不然，你也连接不上路由了，即：允许来自内网的连接的规则在前，拒绝所有的连接的规则在后。<br />
如果出现规则设错，不能登陆了，可以从路由上直接登陆，然后手工删除错误的规则，或者，使用system 里面的reset 复位路由（会删除所有规则）<br />
&nbsp;至此ADSL共享上网的简单设置已经完成。网络可以正常使用了。</p>
