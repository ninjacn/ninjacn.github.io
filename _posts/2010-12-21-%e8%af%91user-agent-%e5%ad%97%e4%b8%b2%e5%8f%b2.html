---
layout: post
status: publish
published: true
title: "[译]User-agent 字串史"
author:
  display_name: Ninjacn
  login: admin
  email: x@ninjacn.com
  url: ''
author_login: admin
author_email: x@ninjacn.com
wordpress_id: 923
wordpress_url: http://ninjacn.com/?p=923
date: '2010-12-21 10:56:49 +0800'
date_gmt: '2010-12-21 02:56:49 +0800'
categories:
- System
tags:
- User-agent
- "历史"
comments:
- id: 336
  author: ninetales
  author_email: ninetales@live.cn
  author_url: ''
  date: '2011-07-17 17:15:47 +0800'
  date_gmt: '2011-07-17 09:15:47 +0800'
  content: "感谢 :-)\r\n顺便问一下&ldquo;Encryption&rdquo;有什么用？"
---
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">原贴：<a style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; color: #1a8bc8; text-decoration: none;" href="http:&#47;&#47;www.nczonline.net&#47;blog&#47;2010&#47;01&#47;12&#47;history-of-the-user-agent-string&#47;" target="_blank">History of the user-agent string<&#47;a><&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">作者：Nicholas C. Zakas<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在《<a style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; color: #1a8bc8; text-decoration: none;" title="army译的部分" href="http:&#47;&#47;army8735.org&#47;2010&#47;01&#47;01&#47;534.html" target="_blank">特性检测并非浏览器检测<&#47;a>》贴文中谈到了 User-agent 嗅探，有回贴支持本人继续谈下去。那本人认为：User-agent 嗅探是必备的一项重要的技术。要知道 user-agent 字串检测不太精准的原因，必须谈这些年来 user-agent 字串发生了怎样的变化。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">原作者的广告时间：本贴文是从《<a style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; color: #1a8bc8; text-decoration: none;" href="http:&#47;&#47;www.amazon.com&#47;gp&#47;product&#47;047022780X?ie=UTF8&amp;tag=nczonline-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=047022780X" target="_blank">JavaScript 高级程序设计(第2版)<&#47;a>》中内容删减而来，完整的内容请看本书。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">较古的浏览器<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">1993年，NCSA 发布了首款 web 浏览器 Mosaic。它的 user-agent 字串非常简洁：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mosaic&#47;0.9<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">虽然当时由于它对操作系统和平台的依赖性，但是基本格式还是很简单明了。在文本中，斜杠前面是产品名称(可能会显示为 NCSA Mosaic 或是其他类似的字)，斜杠后面是产品版本号。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Netscape Communications 开发了 web 浏览器 Mozilla(当时号称&ldquo;Mosaic 杀手&rdquo;)。他们首款公开发行版本： Netscape Navigator 2 的user-agent 字串具有如下格式：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;Version [Language] (Platform; Encryption)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Netscape 按之前的做法在 user-agent 字串的前半部分使用了产品名称和产品版本，但在后面增加了下列信息：<&#47;p></p>
<ol style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-left: 2em;">
<li style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; list-style-type: decimal;">Language - 表示应用程序用的是哪个语言<&#47;li>
<li style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; list-style-type: decimal;">Platform - 表示应用程序是在什么操作系统和&#47;或平台中运行<&#47;li>
<li style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; list-style-type: decimal;">Encryption - 表示应用程序包含了什么安全加密类型。其中的值可能是U(128位加密)、I(40位加密)、N(没加密)。<&#47;li><br />
<&#47;ol></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Netscape Navigator 2 的 user-agent 字串的示例：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;2.02 [fr] (WinNT; I)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">上面的字串指： Netscape Navigator 2.02 、法语 、Windows NT 、40位加密。在当时，通过 user-agent 字串中的产品名称，可以正确判断使用的是哪个 web 浏览器。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">Netscape Navigator 3 、Internet Explorer 3<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">1996年，Netscape Navigator 3 发布，它远远超过 Mosaic 成为当时最流行的 web 浏览器。而 user-agent 字串只有些小的变化：去掉了语言部分，多了个放操作系统或CPU的可选信息。格式如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;Version (Platform; Encryption [; OS-or-CPU description])<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Windows 系统中 Netscape Navigator 3 的 user-agent 字串的示例：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;3.0 (Win95; U)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">上面的字串指：Netscape Navigator 3 、Windows 95 、128 位加密。在 Windows 系统中，字串里面不会显示 OS 或 CPU 的信息。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Netscape Navigator 3 发布不久，微软公布了它的首款 web 浏览器： IE 3&nbsp;<sup style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important;">&sup1;<&#47;sup>，但是 Netscape 是当时首选浏览器，大多数服务器在加载页面前都会检查 user-agent 是否为该款浏览器。IE 如果不兼容Netscape user-agent 字串，使用 IE 的用户就根本打不开这些页面，于是造就了如下格式：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;2.0 (compatible; MSIE Version; Operating System)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Windows 95 中 IE 3.02 的 user-agent 字串的示例：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;2.0 (compatible; MSIE 3.02; Windows 95)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">由于当时的浏览器嗅探只查 user-agent 字串中的产品名称部分，结果 IE 摇身一变被识别成了 Mozilla，伪装成 Netscape Navigator。这个做法引发了对浏览器识别的争论。从此以后，浏览器真正的版本埋没在了字串的中间。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">Netscape Communicator 4 、Internet Explorer 4至8<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">1997年8月，Netscape Communicator 4 发布(发布的名称中 Navigator 换成了 Communicator)，它的 user-agent 字串格式与 3 版本一致。Windows 98 中 4 版本的 user-agent 字串如下:<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;4.0 (Win98; I)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Netscape 浏览器在更新时，版本也相应增加。4.79 版本的 user-agent 字串如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;4.79 (Win98; I)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">微软发布 IE 4 时，user-agent 字串更新了版本，格式如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;4.0 (compatible; MSIE Version; Operating System)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Windows 98 中 IE 4 的 user-agent 字串的示例：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;4.0 (compatible; MSIE 4.0; Windows 98)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">可以看出，Mozilla 的版本与 IE 实际的版本一致，这样就可以识别第4代浏览器了。但遗憾的是，不久 IE 4.5 马上就发布了(只在 Mac 平台)，虽然 Mozilla 版本仍是 4，但是 IE 的版本改成如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;4.0 (compatible; MSIE 4.5; Mac_PowerPC)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">此后，IE 的版本一直到 7 都沿用了这个模式。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">而 IE 8 的&nbsp;<a style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; color: #1a8bc8; text-decoration: none;" href="http:&#47;&#47;blogs.msdn.com&#47;ie&#47;archive&#47;2009&#47;01&#47;09&#47;the-internet-explorer-8-user-agent-string-updated-edition.aspx">user-agent 字串<&#47;a>添加了呈现引擎(rendering engine)版本：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident&#47;4.0)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">新增的呈现引擎非常重要！这样 IE8 以 MSIE 7.0 兼容模式运行时，Trident 版本保持不变，而原先 IE7 的 user-agent 字串不包括 Trident 版本。这样可以区分 IE7 与 IE8 运行的兼容模式。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">注意：别指望能从 Mozilla 版本中得到什么靠谱的信息。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">Gecko<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Gecko 是 Firefox 的呈现引擎。Gecko 首次开发是作为 Mozilla 浏览器 Netscape 6 的一部分。Netscape 6 的 user-agent 字串的结构是面向未来的，新版本反应出从 4.x 版本的简单变得较为复杂，它的格式如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;"><br />
Mozilla&#47;MozillaVersion (Platform; Encryption; OS-or-CPU; Language; PrereleaseVersion)Gecko&#47;GeckoVersion ApplicationProduct&#47;ApplicationProductVersion<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">为了更好的理解上面的 Gecko user-agent 字串格式，下面来看看各种从基于 Gecko 浏览器中取得的字串。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Windows XP 中的 Netscape 6.21：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Windows; U; Windows NT 5.1; en-US; rv:0.9.4) Gecko&#47;20011128 Netscape6&#47;6.2.1<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Linux 中的 SeaMonkey 1.1a:<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (X11; U; Linux i686; en-US; rv:1.8.1b2) Gecko&#47;20060823 SeaMonkey&#47;1.1a<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Windows XP 中的 Firefox 2.0.0.11 :<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.11) Gecko&#47;20071127 Firefox&#47;2.0.0.11<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Mac OS X 中的 Camino 1.5.1:<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Macintosh; U; Intel Mac OS X; en; rv:1.8.1.6) Gecko&#47;20070809 Camino&#47;1.5.1<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">上面都是基于 Gecko 的浏览器所取得的 user-agent 字串，区别只是版本有所不同。Mozilla 版本 5.0 是自从首款基于 Gecko 发布后就一直不变，而且以后有可能也不会变<sup style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important;">&sup2;<&#47;sup>。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">WebKit<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">2003年，Apple 宣布发布首款他们自主开发的 web 浏览器：Safari。它的呈现引擎叫 WebKit。它是 Linux 中的 web 浏览器 Konqueror 呈现引擎 KHTML 的一个分支，几年后，WebKit 的开源吸引了呈现引擎的开发人员。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">这款新浏览器和呈现引擎的开发人员也遇到了曾经 IE 3.0 类似的问题：怎样才能溶入主流而不被踢出局？答案是：在 user-agent 字串中放详尽的信息，以便骗取网站的信任使它与其它流行的浏览器兼容。user-agent 字串格式如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Platform; Encryption; OS-or-CPU; Language) AppleWebKit&#47;AppleWebKitVersion (KHTML, like Gecko) Safari&#47;SafariVersion<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">下面是示例：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Macintosh; U; PPC Mac OS X; en) AppleWebKit&#47;124 (KHTML, like Gecko) Safari&#47;125.1<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">这又是个挺长的 user-agent 字串，其中包括的信息既有 Apple WebKit 的版本，也有 Safari 的版本。凡是基于 WebKit 的浏览器都将自己伪装成了 Mozilla 5.0，与基于 Gecko 浏览器完全一样。但 Safari 的版本是浏览器的构建版本号(build number)。Safari 1.25 在 user-agent 字串中号为 125.1(如上所示)。Safari 版本 3 的 user-agent 字串包括了实际的 Safari 版本：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Macintosh; U; PPC Mac OS X; en) AppleWebKit&#47;522.15.5 (KHTML, like Gecko) Version&#47;3.0.3 Safari&#47;522.15.5<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">其中的&ldquo;(KHTML, like Gecko)&rdquo;在 Safari 1.0 预览版本中就有了，这字串部分是最耐人寻味又饱受诟病。Apple 的野心是为了让开发人员把 Safari 当成 Gecko，所以采取了当初微软 IE user-agent 的类似做法：Safari 是兼容 Mozilla 的，否则 Safari 用户会认为用的浏览器不受支持。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">而其它基于 WebKit 的浏览器与 Safari 不同的是，没有上面说的这个情况，所以检测断定浏览器是否基于 WebKit 比看有没有明确标 Safari 更有用。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">Konqueror<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Konqueror 是款在 KDE Linux 桌面环境中的浏览器，基于 KHTML 开源呈现引擎。它只发布了在 Linux 的版本，但是拥有活跃的用户群。为了兼容性最大化，user-agent 字串的格式也紧跟 IE 的后尘：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (compatible; Konqueror&#47;Version; OS-or-CPU)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Konqueror 3.2 为了与 WebKit user-agent 字串变化保持一致，它将 KHTML 作为它的标识：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (compatible; Konqueror&#47;Version; OS-or-CPU) KHTML&#47;KHTMLVersion (like Gecko)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">如下所示：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (compatible; Konqueror&#47;3.5; SunOS) KHTML&#47;3.5.0 (like Gecko)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Konqueror 和 KHTML 的版本号比较一致，唯一的区别就是下点处不同，比如Konquerer 3.5、KHTML 3.5.1。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">Chrome<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Google Chrome 浏览器以 WebKit 作为呈现引擎，JavaScript 引擎却用了另一种。最初发布的版本是 0.2，它的 user-agent 字串格式是在 webKit 信息的基础上又增加了如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Platform; Encryption; OS-or-CPU; Language) AppleWebKit&#47;AppleWebKitVersion (KHTML, like Gecko) Chrome&#47;ChromeVersion Safari&#47;SafariVersion<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Chrome 0.2 user-agent 信息的示例如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit&#47;525.13 (KHTML, like Gecko) Chrome&#47;0.2.149.29 Safari&#47;525.13<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">虽我不敢完全保证，但很可能 WebKit 版本和 Safari 版本总会保持同步。<&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">Opera<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Opera 浏览器默认 user-agent 字串是现代浏览器中最合理的－－正确的标识了它自己及其版本。 在 Opera 8.0 前，它的 user-agent 字串格式如下：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Opera&#47;Version (OS-or-CPU; Encryption) [Language]<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Windows XP 中 Opera 7.54 user-agent 字串示例：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Opera&#47;7.54 (Windows NT 5.1; U) [en]<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Opera 8 user-agent 字串的语言部分移到了括号内。<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Opera&#47;Version (OS-or-CPU; Encryption; Language)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">在 Windows XP 中 Opera 8 user-agent 字串示例：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Opera&#47;8.0 (Windows NT 5.1; U; en)<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">当时 Opera 做为主流浏览器之一，它的 user-agent 字串是唯一使用产品名称和版本完全真实的标识了它自己。但是由于大量的浏览器嗅探代码在 Internet 上像蝗虫飞过般只吃标 Mozilla 产品名的 user-agent 字串，造成了 Opera 的 user-agent 字串发生了完全的改变。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">Opera 9 user-agent 字串有两种修改的方式：一种方式是将自己标识为 Firefox 或 IE 浏览器。在这种方式下，user-agent 字串与 Firefox 或 IE 的几乎一样，只不过末尾附加了&ldquo;Opera&rdquo;及版本号。如下所示：<&#47;p></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;5.0 (Windows NT 5.1; U; en; rv:1.8.1) Gecko&#47;20061208 Firefox&#47;2.0.0 Opera 9.50<&#47;code><&#47;pre></p>
<pre style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; margin-top: 0px; margin-bottom: 0px;"><code style="font-family: 'Courier New', Terminal, monospace;">Mozilla&#47;4.0 (compatible; MSIE 6.0; Windows NT 5.1; en) Opera 9.50<&#47;code><&#47;pre></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">前一字串将 Opera 9.5 标识为 Firefox 2。后一字串将 Opera 9.5 标识为 IE 6，在两个字串中都带有 Opera 版本信息。虽然这种方式是作为 Firefox 或 IE 打开的，但也能识别出 Opera。另一种方法则是浏览器 user-agent 字串标识伪装成 Firefox 或 IE，同时也找不到&ldquo;Opera&rdquo;字串及其版本信息。这样从字面上去区分 Opera 浏览器便成了&ldquo;不可能完成的任务&rdquo;。<sup style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important;">&sup3;<&#47;sup><&#47;p></p>
<h3 style="font-family: Verdana; margin-right: 0px; margin-left: 0px; margin-top: 10px; margin-bottom: 10px; font-size: 14px; color: #666666; text-align: left; background-image: none; background-attachment: scroll; background-origin: initial; background-clip: initial; background-color: transparent; line-height: 14px; background-position: 0% 0%; background-repeat: repeat repeat;">结论<&#47;h3></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">user-agent 字串史可以说明曾对 user-agent 嗅探说不的原因：IE 想要将自己识别为 Netscape 4，Konqueror 和 WebKit 想要识别为 Firefox，Chrome 想要识别为 Safari。这样使得除 Opera 外所有浏览器的 user-agent 嗅探区别很小，想要从一堆茫茫浏览器海洋中找出有用的标识太少了。关于嗅探要记住：一款浏览器与其它浏览器是兼容的，这样造成了不能完全准确的断定是哪款浏览器。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">比如说 Chrome ，它声称任何可以在 Safari 3 访问的网站 Chrome 也都可以访问，但是对检测 Chrome 没有一点用。为了浏览器的兼容--这便是这个声明的理由。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">(完)<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">译注1：IE 3 不是微软首款浏览器，请参考 wiki 的&nbsp;<a style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; color: #1a8bc8; text-decoration: none;" href="http:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Browser_timeline" target="_blank">Timeline of web browsers<&#47;a>。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">译注2：这个是原作者的想法，译者不敢保证。<&#47;p></p>
<p style="font-family: 'WenQuanYi Micro Hei Mono', 'WenQuanYi Micro Hei', 'Microsoft Yahei Mono', 'Microsoft Yahei', sans-serif !important; line-height: 19px; margin-top: 5px; margin-right: auto; margin-bottom: 5px; margin-left: auto; text-indent: 0px;">译注3：Opera 10 的 user-agent 字串大家自己去看吧。<&#47;p></p>
