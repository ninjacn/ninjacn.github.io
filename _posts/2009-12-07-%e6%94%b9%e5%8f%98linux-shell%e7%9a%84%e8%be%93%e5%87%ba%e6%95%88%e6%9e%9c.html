---
layout: post
status: publish
published: true
title: "改变linux shell的输出效果 "
author:
  display_name: Ninjacn
  login: admin
  email: x@ninjacn.com
  url: ''
author_login: admin
author_email: x@ninjacn.com
excerpt: "文本终端的颜色可以使用&ldquo;ANSI非常规字符序列&rdquo;来生成。举例：\r\n\r\n　　echo -e \"\\033[44;37;5m
  ME \\033[0m COOL\"\r\n\r\n　　以上命令设置背景成为蓝色，前景白色，闪烁光标，输出字符&ldquo;ME&rdquo;，然后重新设置屏幕到缺省设置，输出字符
  &ldquo;COOL&rdquo;。&ldquo;e&rdquo;是命令 echo 的一个可选项，它用于激活特殊字符的解析器。&ldquo;\\033&rdquo;引导非常规字符序列。&ldquo;m&rdquo;意味着设置属性然后结束非常规字符序列，这个例子里真正有效的字符是
  &ldquo;44;37;5&rdquo; 和&ldquo;0&rdquo;。\r\n\r\n　　修改&ldquo;44;37;5&rdquo;可以生成不同颜色的组合，数值和编码的前后顺序没有关系。可以选择的编码如下所示：\r\n"
wordpress_id: 776
wordpress_url: http://ninjacn.com/?p=776
date: '2009-12-07 23:40:32 +0800'
date_gmt: '2009-12-07 15:40:32 +0800'
categories:
- System
tags: []
comments: []
---
<p>文本终端的颜色可以使用&ldquo;ANSI非常规字符序列&rdquo;来生成。举例：</p>
<p>　　echo -e "\033[44;37;5m ME \033[0m COOL"</p>
<p>　　以上命令设置背景成为蓝色，前景白色，闪烁光标，输出字符&ldquo;ME&rdquo;，然后重新设置屏幕到缺省设置，输出字符 &ldquo;COOL&rdquo;。&ldquo;e&rdquo;是命令 echo 的一个可选项，它用于激活特殊字符的解析器。&ldquo;\033&rdquo;引导非常规字符序列。&ldquo;m&rdquo;意味着设置属性然后结束非常规字符序列，这个例子里真正有效的字符是 &ldquo;44;37;5&rdquo; 和&ldquo;0&rdquo;。</p>
<p>　　修改&ldquo;44;37;5&rdquo;可以生成不同颜色的组合，数值和编码的前后顺序没有关系。可以选择的编码如下所示：<br />
<a id="more"></a><a id="more-776"></a><br />
　　编码    颜色&#47;动作</p>
<p>　　0       重新设置属性到缺省设置</p>
<p>　　1       设置粗体</p>
<p>　　2       设置一半亮度（模拟彩色显示器的颜色）</p>
<p>　　4       设置下划线（模拟彩色显示器的颜色）</p>
<p>　　5       设置闪烁</p>
<p>　　7       设置反向图象</p>
<p>　　22      设置一般密度</p>
<p>　　24      关闭下划线</p>
<p>　　25      关闭闪烁</p>
<p>　　27      关闭反向图象</p>
<p>　　30      设置黑色前景</p>
<p>　　31      设置红色前景</p>
<p>　　32      设置绿色前景</p>
<p>　　33      设置棕色前景</p>
<p>　　34      设置蓝色前景</p>
<p>　　35      设置紫色前景</p>
<p>　　36      设置青色前景</p>
<p>　　37      设置白色前景</p>
<p>　　38      在缺省的前景颜色上设置下划线</p>
<p>　　39      在缺省的前景颜色上关闭下划线</p>
<p>　　40      设置黑色背景</p>
<p>　　41      设置红色背景</p>
<p>　　42      设置绿色背景</p>
<p>　　43      设置棕色背景</p>
<p>　　44      设置蓝色背景</p>
<p>　　45      设置紫色背景</p>
<p>　　46      设置青色背景</p>
<p>　　47      设置白色背景</p>
<p>　　49      设置缺省黑色背景<br />
其他有趣的代码还有：</p>
<p>　　\033[2J         　清除屏幕</p>
<p>　　\033[0q         　关闭所有的键盘指示灯</p>
<p>　　\033[1q         　设置&ldquo;滚动锁定&rdquo;指示灯 (Scroll Lock)</p>
<p>　　\033[2q         　设置&ldquo;数值锁定&rdquo;指示灯 (Num Lock)</p>
<p>　　\033[3q         　设置&ldquo;大写锁定&rdquo;指示灯 (Caps Lock)</p>
<p>　　\033[15:40H     把关闭移动到第15行，40列</p>
<p>　　\007            　　发蜂鸣生beep</p>
<p>　　＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃</p>
<p>　　RedHat的字体和背景颜色的改变方法：</p>
<p>　　命令：</p>
<p>　　PS1="[\e[32;1m\u@\h \W]\\$"</p>
<p>　　或</p>
<p>　　export PS1="[\e[32;1m\u@\h \W]\\$" 两者的区别请查看环境变量的相关资料</p>
<p>　　解释：</p>
<p>　　\e[32;1m：这就是控制字体和背景颜色的转义字符，30~37是字体颜色、40~47是背景颜色</p>
<p>　　例子中的32;1m数字的位置是可以对调的如\e[1;32m，如果是在X环境下可以更换一下1的范围0~10，可能有的没用处：0或者不写（\e [0;32m或\e[;32m）显示浅颜色，1：显示高亮 4：加下划线.....如果改后的效果不好，但是又还原不了，那就不写m前面的数字，如\e[32;m，或者直接注销再登陆</p>
<p>　　\u \h \W：这是一些转义字符，下面详细解释：</p>
<p>　　\d ：代表日期，格式为weekday month date，例如："Mon Aug 1"</p>
<p>　　\H ：完整的主机名称。例如：我的机器名称为：fc4.linux，则这个名称就是fc4.linux</p>
<p>　　\h ：仅取主机的第一个名字，如上例，则为fc4，.linux则被省略</p>
<p>　　\t ：显示时间为24小时格式，如：HH：MM：SS</p>
<p>　　\T ：显示时间为12小时格式</p>
<p>　　\A ：显示时间为24小时格式：HH：MM</p>
<p>　　\u ：当前用户的账号名称</p>
<p>　　\v ：BASH的版本信息</p>
<p>　　\w ：完整的工作目录名称。家目录会以 ~代替</p>
<p>　　\W ：利用basename取得工作目录名称，所以只会列出最后一个目录</p>
<p>　　\# ：下达的第几个命令</p>
<p>　　\$ ：提示字符，如果是root时，提示符为：# ，普通用户则为：$</p>
<p>　　\n ：新建一行</p>
<p>　　字体并不局限于一个颜色，可以有多个颜色：</p>
<p>　　PS1="[\e[32;1m\u@\e[35;1m\h \e[31;1m\W]\\$"</p>
<p>　　以上两个命令在注销后再登陆就失效了，用下面方法使其永久生效：</p>
<p>　　vi &#47;etc&#47;profile</p>
<p>　　在&ldquo;export PATH .....&rdquo;下面添加一行：export PS1="[\e[32;1m\u@\h \W]\\$"</p>
<p>　　注销再登陆，就成功了，如果没生效，使用source &#47;etc&#47;profile 命令试试，或者直接重启机器<br />
原文地址 http:&#47;&#47;www.linuxtone.org&#47;html&#47;52&#47;t-2652.html</p>
