---
layout: post
status: publish
published: true
title: imagick生成透明gif动画
author:
  display_name: Ninjacn
  login: admin
  email: x@ninjacn.com
  url: ''
author_login: admin
author_email: x@ninjacn.com
wordpress_id: 624
wordpress_url: http://ninjacn.com/?p=624
date: '2009-06-04 15:16:00 +0800'
date_gmt: '2009-06-04 07:16:00 +0800'
categories:
- Program
tags:
- gif
- imagick
- "透明"
- Program
comments: []
---
<p><coolcode lang="php">$new_im = new Imagick();<br />
$new_im->setFormat('gif');<br />
$pics = glob("nv01&#47;*.png");<br />
foreach($pics as $k => $v)<br />
{<br />
  $im = new Imagick($v);<br />
  $im->trimImage(0);<br />
  $new_im->addImage($im);<br />
  $new_im->setImageDelay(15);<br />
                &#47;&#47;设置每一帧图片是独立的，屏蔽上一帧（关键）<br />
  $new_im->setImageDispose(imagick::DISPOSE_PREVIOUS);<br />
}<br />
$new_im->coalesceImages();<br />
$new_im->writeImages('ani.gif',1);<br />
?><br />
<&#47;coolcode></p>
