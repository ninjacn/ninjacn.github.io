---
layout: post
status: publish
published: true
title: linux PPPoE 自动拔号
author:
  display_name: Ninjacn
  login: admin
  email: x@ninjacn.com
  url: ''
author_login: admin
author_email: x@ninjacn.com
excerpt: "对于不是包月的PPP用户来说，往往希望使用的时候能够自动拨号，一段时间不用，就自动断线。这样可以节省金钱，又能够非常方便地使用网络。那么在Debian下能够实现这个功能吗？\r\n\r\n答案是肯定的，以下是使用PPPOE(LAN或者ADSL)的情况下，使用自动拨号(DIAL
  ON DEMAND)的方法，如果是其他Linux发行版本或者其他PPP拨号方式，可以使用类似的方法设置。\r\n\r\n1、安装pppoe软件包\r\n\r\n一般使用rp-ppp软件包\r\n\r\n#
  apt-get install pppoe\r\n# apt-get install pppoeconf\r\n"
wordpress_id: 821
wordpress_url: http://ninjacn.com/?p=821
date: '2009-12-09 14:26:20 +0800'
date_gmt: '2009-12-09 06:26:20 +0800'
categories:
- System
tags:
- ADSL
- linux
- pppoe
comments: []
---
<p>对于不是包月的PPP用户来说，往往希望使用的时候能够自动拨号，一段时间不用，就自动断线。这样可以节省金钱，又能够非常方便地使用网络。那么在Debian下能够实现这个功能吗？</p>
<p>答案是肯定的，以下是使用PPPOE(LAN或者ADSL)的情况下，使用自动拨号(DIAL ON DEMAND)的方法，如果是其他Linux发行版本或者其他PPP拨号方式，可以使用类似的方法设置。</p>
<p>1、安装pppoe软件包</p>
<p>一般使用rp-ppp软件包</p>
<p># apt-get install pppoe<br />
# apt-get install pppoeconf<br />
<a id="more"></a><a id="more-821"></a><br />
2、配置pppoe参数</p>
<p>执行 pppoeconf，自动检测连接ADSL的网卡，然后输入相应的参数，如用户名，密码等等.</p>
<p>生成的配置文件在：</p>
<p>&#47;etc&#47;ppp&#47;peers&#47;dsl-provider</p>
<p>3、拨号</p>
<p>就可以使用 pon 进行连接Internet。<br />
poff就强制断线</p>
<p>4、自动按需拨号</p>
<p>修改：<br />
&#47;etc&#47;ppp&#47;peers&#47;dsl-provider</p>
<p>修改下面两个参数</p>
<p>[cc lang="apache"]demand<br />
idle 300[&#47;cc]</p>
<p>这里demand表示自动按需拨号，idle表示空闲多少秒以后自动断线。</p>
<p>重新运行 poff, pon，使参数生效，这时你会发现ppp并没有马上拨号，网络并没有自动连接。然后你使用 ping 202.102.3.141进行测试，你会发现在停顿一、两秒以后（这是拨号时间），网络就通了。然后你就可以正常使用网络了。如果5分钟不使用网络，就自动断线。如此不断自动重复上述过程。</p>
